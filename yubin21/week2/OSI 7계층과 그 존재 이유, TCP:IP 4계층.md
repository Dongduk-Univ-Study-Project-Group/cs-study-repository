> OSI 7계층과 그 존재 이유, TCP/IP 4계층

## OSI 7계층
개방형 시스템 상호 연결이라는 뜻으로, 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것을 말한다.  
OSI는 하위 계층인 1,2,3계층과 상위 계층인 4,5,6,7 계층으로 나뉜다.
통신이 일어나는 과정을 단계별로 파악할 수 있어, 문제가 발생하면 해당 문제를 해결하기 쉽다는 장점을 가진다.

### 존재 이유(목적)
- 통신이 일어나는 과정을 단계별로 파악할 수 있음
- 특정한 곳에 이상이 생긴다면 다른 단계의 장비 또는 소프트웨어를 건들이지 않고 이상이 생긴 단계만 고칠 수 있음
- 표준화를 통해 장비별 이질적인 포트, 프로토콜을 구별
- OSI 계층별 기능과 통신의 과정을 정립하여 교육하기 위한 목적

![](../../../../125401703-76d00d00-e3ee-11eb-8c47-913b113b2856.png)

#### 7계층 - 응용 계층(Application Layer)
- 응용 계층은 사용자와 바로 연결되어 있으며 응용 SW를 도와주는 계층이다.
- 사용자로부터 정보를 입력받아 하위 계층으로 전달하고 하위 계층에서 전송한 데이터를 사용자에게 전달한다.
- 사용자와 가장 밀접한 계층, 인터페이스(Interface) 역할
- 파일 전송, DB, 메일 전송 등 여러가지 응용 서비스를 연결해주는 역할을 한다.
- 응용 계층은 응용 프로세스와 직접 관계하여 일반적인 응용서비스를 수행한다.
- PDU : 데이터(Data) / 프로토콜 : DHCP, DNS, FTP, HTTP

#### 6계층 - 표현 계층(Presentation Layer)
- 표현 계층은 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어준다.
- MIME 인코딩이나 암호화 등의 동작이 표현 계층에서 이루어짐 (해당 데이터가 TEXT인지, 그림인지, GIF인지 JPG인지의 구분 등이 표현 계층의 몫)
- 표현 계층은 사용자의 명령어를 완성 및 결과 표현하며, 압축 / 암호화 역할을 한다.
- PDU : 데이터(Data) / 프로토콜 : JPG, MPEG, SMB, AFP

#### 5계층 - 세션 계층(Session Layer)
- 통신 세션을 구성하는 계층으로, 포트(Port) 기반으로 연결한다.
- 연결 세션에서 데이터 교환과 에러 발생 시의 복구를 관리. 즉, 논리적인 연결을 담당
- 통신장치 간 상호 작용 및 동기화를 제공한다.
- 헤더를 통해 캡슐화 및 캡슐화 해제
- 세션 계층은 통신을 하기 위한 세션을 확립 / 유지 / 중단 역할을 한다.
- PDU : 데이터(Data) / 프로토콜 : NetBIOS, SSH, TLS

#### 4계층 - 전송 계층(Transport Layer)
- 전송 계층은 통신을 활성화하기 위한 계층
- 양 끝단(End-to-End)의 사용자들이 신뢰성있고 정확한 데이터를 주고 받게 해주는 역할
- 데이터 전송을 위해 Port번호가 사용된다.
- 세그먼트(Segement)단위의 PDU, 종단 간의 에러복구와 흐름제어 담당, 헤더를 통해 캡슐화 및 캡슐화 해제
- 전송 계층은 패킷 생성(Assembly/Sequencing/Deassembly/Error detection/Request repeat/Flow control) 및 전송 역할을 한다.
- PDU : 세그먼트(Segment) / 프로토콜 : TCP, UDP, ARP, RTP
- 대표장비 : 게이트웨이, L4 스위치

#### 3계층 - 네트워크 계층(Network Layer)
- 경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해주는 것이 네트워크 계층의 역할
- 네트워크 계층에는 데이터를 목적지까지 안전하고 빠르게 전달하는 라우팅 기능이 있다.
- 패킷(Packet)단위의 PDU, 패킷은 목적지까지 경로를 설정, 헤더를 통해 캡슐화 또는 캡슐화 해제
- 결국 네트워크 계층은 주소 부여(IP) / 경로 설정(Route) 역할을 한다.
- PDU : 패킷(Packet) / 프로토콜 : IP, ICMP 등
- 대표장비 : 라우터, L3 스위치

#### 2계층 - 데이터 링크 계층 (Data Link Layer)
- 링크 계층은 네트워크 기기들 사이의 데이터를 전송하는 역할을 한다.
- 물리적인 연결을 통해 오류와 흐름을 관리하며 인접한 두 장치의 신뢰성 있는 정보 전송을 담당한다.
- 프레임(Frame) 단위의 PDU, MAC주소와 제어정보를 전송, 헤더를 통해 캡슐화 또는 캡슐화 해제
- 결국 링크 계층은 에러검출 / 재전송 / 흐름제어 역할을 한다.
- PDU : 프레임(Frame) / 프로토콜 : 이더넷, MAC, PPP, ATM, LAN, wifi
- 대표장비 : 브릿지, 스위치

#### 1계층 - 물리 계층(Physical Layer)
- 물리 계층은 전기적, 기계적 기능적인 특성을 이용해서 장비로 데이터를 전송하게 된다.
- 물리 계층에서 사용되는 통신 단위는 Bit로 1(On)과 0(Off)으로 나타낸다.
- 물리 계층에서는 단지 데이터를 전달만 한다.
- 전송할 때(또는 받을 때) 데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경 쓰지 않는다. 정말 단순하게 데이터를 전기적인 신호로 변환해서 주고받는 기능만 할 뿐이다. 결국 물리 계층은 어떤 에러가 있는지 전혀 관여하지 않는다.
- PDU : 비트(Bit) / 프로토콜 : Modem, Cable, Fiber, RS-232C
- 대표장비 : 허브, 리피터

## TCP/IP 4 Layer
실제 통신은 위 7가지 단계로 이뤄지지 않고 TCP/IP Prococol을 사용한다.  
1,2,3,4 계층은 기존의 OSI 계층과 동일하고 OSI 의 5,6,7 계층이 하나의 apllication Layer로 변경된 형태이다.

#### 4계층 - 응용 계층(Application Layer)

- OSI 7 Layer의 Application(7), Presentation(6), Session(5) 계층에 해당한다.
- 사용자에게 응용 프로그램의 서비스를 위한 표준 인터페이스를 제공한다.
- 인터넷 브라우저, 텔넷, 네트워크 서비스 등이 이 계층에 속한다.

데이터 단위 : Data, Message  
프로토콜 : HTTP, Telnet, SSH, FTP, SMTP, POP3, DNS


#### 3계층 - 전송 계층(Transport Layer)

- OSI 7 Layer의 Transport(4) 계층에 해당한다.
- 통신 프로세스 간의 연결 제어와 데이터 송수신을 담당한다.
- 프로세스가 사용하는 포트 번호를 논리적 주소로 사용한다.

데이터 단위 : Segment
프로토콜 : TCP, UDP, RTP, RTCP


#### 2계층 - Internet
- OSI 7 Layer의 Network(3) 계층에 해당한다.
- 호스트 간의 라우팅을 담당한다.
- 단말을 구분하기 위해 논리적 주소인 IP를 할당한다.

데이터 단위 : Packet  
프로토콜 : IP, ARP, ICMP, RARP, OSPF

#### 1계층 - Network Interface

- OSI 7 Layer의 Data Link(2), Physical(1) 계층에 해당한다.
- IP 주소와 같은 논리 주소 대신, MAC과 같은 물리 주소를 참조하여 데이터를 전송한다.
- 에러 검출과 패킷의 프레임화를 담당한다.

데이터 단위 : Frame  
프로토콜 : Ethernet, Token Ring, PPP

## 참고자료
[OSI7계층과 그 존재 이유](https://bbumom.tistory.com/38)

[OSI 7 계층이란?, OSI 7 계층을 나눈 이유](https://shlee0882.tistory.com/110)

[TCP/IP 4 계층](https://rito15.github.io/posts/01-cs-tcp-ip-4-layer/)